/*! WebDemo - v0.0.1-SNAPSHOT - 2017-01-09
 * https://github.com/FrickyWang/WebDemo
 * Copyright (c) 2017 Fricky Wang;
 */
define("models/lib/codec",[],function(){var e=function(e){var t=[];for(var n in e)arrayEncode.hasOwnProperty(n)&&!angular.isUndefined(arrayEncode[n])&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(arrayEncode[n]));return t.join("&")},t=function(e){var t,n,r,o={},s=e.split("&");for(i=0;i<s;i++)t=c.indexOf("="),n=c.slice(0,t),r=c.slice(t+1),o[decodeURIComponent(n)]=decodeURIComponent(r);return o};return{encode:e,decode:t}}),define("models/lib/crypto",["angular","jsencrypt"],function(e,t){function n(e){this.config=e}var r={publicKey:void 0};return n.prototype.enabled=function(){return!!this.config.publicKey},n.prototype.encrypt=function(e){if(this.config.publicKey){var n=new t;return n.setPublicKey(this.config.publicKey),n.encrypt(e)}return e},n.$inject=["CryptoConfig"],{CryptoConfig:r,Crypto:n}}),define("models/lib/request",["angular","models/lib/codec","models/lib/crypto"],function(e,n){function r(e,t,n){this.$http=e,this.$q=t,this.crypto=n}return r.prototype.emit=function(e){var t=this.$q;return this.$http(e).then(function(e){var n=e.data;return n?n:t.reject(n)},function(e){return t.reject(e.data)})},r.prototype.get=function(t,n,r){var i=e.extend({method:"GET",url:t,params:n},r);return this.emit(i)},r.prototype.jsonp=function(t,n,r){var i=e.extend(n,{callback:"JSON_CALLBACK"}),o=e.extend({method:"GET",url:t,params:i},r);return this.emit(o)},r.prototype.post=function(e,r,i){var o="";r&&i&&i.encrypt&&(r=this.encryptParams(r,i.encrypt),o=n.encode(r));var s=t.extend({method:"POST",url:e,data:o,headers:{"Content-Type":"application/x-www-form-urlencoded"}},i);return this.emit(s)},r.prototype.encryptParams=function(t,n){var r=this.crypto,i=e.extend({},t);if(!r.enabled())return i;if(!n||0===n.length)return i;var o=[];return e.forEach(n,function(e){t[e]&&(i[e]=r.encrypt(t[e]),o.push(e))}),i.encryptedParam=o.join(";"),i},r.$inject=["$http","$q","Crypto"],r}),define("models/lib/resource",["angular"],function(e){function t(t){e.extend(this,t),this.dbUrl="http://127.0.0.1:3000"}return t.prototype.use=function(e){return this.request=e,this},t.prototype.setBaseUrl=function(e){return this.baseUrl=e,this},t.prototype.queryAll=function(e){return this.request.get(this.dbUrl+this.baseUrl,e)},t.prototype.queryOne=function(e,t){return this.request.get(this.dbUrl+this.baseUrl+"/"+e,t)},t.prototype.queryInfor=function(e,t,n){return this.request.get(this.dbUrl+this.baseUrl+"/"+e+"/"+t,n)},t}),define("models/lender/plan",["models/lib/resource","models/lib/request"],function(e){function t(t,n,r,i){this.$http=t,this.$q=n,this.$sce=r,e.call(this,{request:i,baseUrl:"/api/v2/plans",dbUrl:"http://127.0.0.1:3000"})}return t.prototype=new e({}),t.prototype.constructor=t,t.prototype.queryAll=function(e){return this.request.get(this.dbUrl+"/feapi/plans",e).then(function(e){return e},function(e){return this.$q.reject(e)})},t.prototype.queryOne=function(e,t){return this.request.get("/feapi/plans/"+e,t).then(function(e){return e},function(e){return this.$q.reject(e)})},t.prototype.queryFaqs=function(e,t){return this.request.get("/feapi/plans/"+e+"/faqs",t)},t.prototype.getGradeRatesDesc=function(){return this.request.get("/nb/api/public/descriptions?type=profit").then(function(e){return e},function(e){return this.$q.reject(e)})},t.prototype.queryInvestments=function(e,t){return this.queryInfor(e,"investments",t)},t.prototype.queryLoans=function(e,t){return this.queryInfor(e,"loans",t)},t.prototype.queryPossibleLoansSummary=function(e,t){return this.queryInfor(e,"possible/loans/sum",t)},t.prototype.queryPossibleLoans=function(e,t){return this.queryInfor(e,"possible/loans/list",t)},t.prototype.queryInvestTrend=function(e,t){return this.queryInfor(e,"amount/invest/trend",t)},t.prototype.queryTradeTrend=function(e,t){return this.queryInfor(e,"amount/trade/trend",t)},t.prototype.queryStatistics=function(){return this.request.get(this.baseUrl+"/statistics")},t.prototype.queryHouseCities=function(e){return this.request.get("/api/v2/plan/house/cities",e)},t.prototype.queryCityChannels=function(e){return this.request.get("/api/v2/plan/house/channels",e)},t.prototype.queryChannelConfig=function(e){return this.request.get("/api/v2/plan/house/channel/config",e)},t.prototype.queryHousePlanQuota=function(e){return this.request.get("/api/v2/plan/house/quota",e)},t.prototype.checkHousePlan=function(e){return this.request.get("/api/v2/plan/house/check",e)},t.prototype.queryChannelDescription=function(e){return this.request.get("/nb/api/plans/houseplans/channels/"+e)},t.$inject=["$http","$q","$sce","Request"],t}),define("models/index",["angular","models/lib/request","models/lib/crypto","models/lender/plan"],function(e,t,n,r){var i=e.module("webDemo.models",[]).service("Request",t).constant("CryptoConfig",n.CryptoConfig).service("Crypto",n.Crypto).service("Plan",r);return i}),define("common/services/utils",[],function(){function e(){}return e.prototype.isEmpty=function(e){return"undefined"==typeof e||null==e||""===e},e}),define("common/services/translate",[],function(){function e(e){this.Utils=e}return e.prototype.translate=function(e){return this.Utils.isEmpty(resources)||this.Utils.isEmpty(resources[e])?e:resources[e]},e.$inject=["Utils"],e}),define("common/filters/plan",[],function(){function e(){var e=function(e){var t=100*e,n=parseInt(t.toFixed(),10);return isNaN(t)?0:t.toFixed(1)==n?n:t.toFixed(1)};return function(t){return t.interestDownLimit&&t.interestUpLimit||t.intRateDownLimit&&t.intRateUpLimit?e(t.interestDownLimit||t.intRateDownLimit)+"-"+e(t.interestUpLimit||t.intRateUpLimit):e(t.intRate||t.rate)}}return{planIntRate:e}}),define("common/filters/misc",[],function(){function e(e){return function(t){return e.translate(t)}}return e.$inject=["Translate"],{translate:e}}),define("common/filters/string",["angular"],function(e){function t(){var t="...";return function(n,r,i){if(i)return n;if(n&&e.isString(n)){for(var o="",s=0;s<n.length;s++){var u=n.charCodeAt(s);if(o+=n.charAt(s),r-=1,u>255&&(r-=1),r<=3){o+=t;break}}return o}return""}}return{slStringTruncate:t}}),define("common/index",["angular","common/services/utils","common/services/translate","common/filters/plan","common/filters/misc","common/filters/string"],function(e,t,n,r,i,o){var s=e.module("webDemo.common",[]).service("Utils",t).service("Translate",n).filter("planIntRate",r.planIntRate).filter("translate",i.translate).filter("slStringTruncate",o.slStringTruncate);return s}),define("directives/index",["angular","common/index","models/index"],function(e,t,n){var r=e.module("webDemo.directives",[t.name,n.name]);return r});var _requireConfig={baseUrl:WebDemoConfig.staticDomain+WebDemoConfig.scriptsBaseUrl,paths:{angular:"../tp/angular/angular.min",jquery:"../tp/jquery/jquery-3.1.1.min",jsencrypt:"../tp/jsencrypt/jsencrypt.min"},shim:{angular:{deps:["jquery"],exports:"angular"},jsencrypt:{exports:"JSEncrypt"}}};require.config(_requireConfig),window.WebDemoConfigDefaultDeps=[],require(["angular","models/index","common/index","directives/index"],function(e){function t(e,t){n(e),r(t)}function n(e){e&&e.length>0&&(window.WebDemoConfigDefaultDeps=window.WebDemoConfigDefaultDeps.concat(e)),"undefined"!=typeof WebDemoConfig.additionalScripts&&(window.WebDemoConfigDefaultDeps=window.WebDemoConfigDefaultDeps.concat(WebDemoConfig.additionalScripts))}function r(e){require(window.WebDemoConfigDefaultDeps,function(){e.bootstrap(document,["WebDemo"]),console.log("WebDemo app initialized :)")})}var i=e.module("WebDemo",["webDemo.models","webDemo.common","webDemo.directives"]);i.config(["CryptoConfig",function(e){e.publicKey=WebDemoConfig.publicKey}]),define("WebDemo",[],function(){return i}),t(["controllers/common/header","controllers/common/main"],e)}),define("index",function(){});
define("directives/ui/webDemo-banner",["directives/index"],function(n){n.directive("webdemoBanners",["$interval",function(n){return{templateUrl:"./templet/webdemo-banner.html",transclude:!0,restrict:"A",controller:["$scope","$element","$attrs",function(e,r,t){function i(){for(var n=e.banners.length,r=d/n,t=u+r/2,i=0;i<n;i++)e.indicators.push({left:t+i*r})}function c(){a(),s=n(e.next,1e3*o)}function a(){s&&(n.cancel(s),s=null)}e.indicators=[],e.banners=[],e.current={};var s,o=parseFloat(t.interval),u=parseFloat(t.border)||20,d=r.width()-2*u;this.addBanner=function(n){e.banners.push(n),n.$last&&(i(),e.switch(0))},e.switch=function(n){var r=e.banners[n];r&&(e.current.banner&&e.current.banner.hide(),r.show(),e.current.index=n,e.current.banner=r,e.current.left=e.indicators[n].left)},e.next=function(){var n=e.current.index+1;e.switch(e.banners[n]?n:0)},e.prev=function(){var n=e.current.index-1;e.switch(e.banners[n]?n:e.banners.length-1)},r.bind("mouseleave",function(){c()}),r.bind("mouseenter",function(){a()}),c()}]}}]),n.directive("webdemoBanner",[function(){return{scope:!0,require:"^webdemoBanners",restrict:"A",link:function(n,e,r,t){n.show=function(){e.removeClass("ng-hide")},n.hide=function(){e.addClass("ng-hide")},t.addBanner(n)}}}])});
define("controllers/common/header",["WebDemo"],function(e){e.controller("HeaderCtrl",["$scope",function(e){e.isAuthenticated=!0}])});
define("controllers/common/main",["WebDemo"],function(n){n.controller("MainCtrl",["$scope",function(n){n.isActive=function(n){var o=location.pathname||"/";return n===o}}])});